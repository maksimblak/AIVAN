# Production-ready environment template.
# Copy to `.env` (local development) or inject via your secrets manager.

# Core credentials
TELEGRAM_BOT_TOKEN=__REQUIRED_TELEGRAM_TOKEN__
OPENAI_API_KEY=__REQUIRED_OPENAI_KEY__
OPENAI_MODEL=gpt-4o
TELEGRAM_CHAT_ID=

# Logging & runtime behaviour
LOG_LEVEL=INFO
LOG_JSON=0
LOG_PROMPT_DEBUG=0
MAX_OUTPUT_TOKENS=7500
USE_STATUS_ANIMATION=1
USE_STREAMING=1

# OpenAI fine-tuning
OPENAI_VERBOSITY=medium
OPENAI_REASONING_EFFORT=medium
TEMPERATURE=0.2
TOP_P=1
HTTP2=1

# Persistence
DB_PATH=data/bot.sqlite3
DB_MAX_CONNECTIONS=5

# Access & subscriptions
TRIAL_REQUESTS=10
SUB_DURATION_DAYS=30
SUBSCRIPTION_PRICE_RUB=300
RUB_PER_XTR=3.5
ADMIN_IDS=
TELEGRAM_PROVIDER_TOKEN_RUB=
TELEGRAM_PROVIDER_TOKEN_STARS=STARS
CRYPTO_PAY_TOKEN=
CRYPTO_ASSET=USDT

# Proxy configuration (optional)
TELEGRAM_PROXY_URL=
TELEGRAM_PROXY_USER=
TELEGRAM_PROXY_PASS=
OPENAI_PROXY_URL=
OPENAI_PROXY_USER=
OPENAI_PROXY_PASS=

# Observability
ENABLE_PROMETHEUS=1
PROMETHEUS_PORT=9000
ENABLE_SYSTEM_MONITORING=0

# Voice mode
ENABLE_VOICE_MODE=1
VOICE_STT_MODEL=gpt-4o-mini-transcribe
VOICE_TTS_MODEL=gpt-4o-mini-tts
VOICE_TTS_SPEED=0.95
VOICE_TTS_VOICE=alloy
VOICE_TTS_VOICE_MALE=verse
VOICE_TTS_STYLE=formal
VOICE_TTS_FORMAT=ogg
VOICE_TTS_BACKEND=auto
VOICE_TTS_CHUNK_CHAR_LIMIT=6000
VOICE_TTS_SAMPLE_RATE=0
VOICE_MAX_DURATION_SECONDS=400

# OCR configuration
OCR_LANG=ru
OCR_ALLOW_OPENAI=true
OPENAI_OCR_MODEL=gpt-4o-mini
OPENAI_TIMEOUT=60
OCR_MAX_CONCURRENCY=3
OCR_MAX_SIDE=2600
OCR_SECOND_PASS_CONF=92
OCR_SECOND_PASS_QLT=0.70

# Document storage
DOCUMENTS_STORAGE_QUOTA_MB=2048
DOCUMENTS_CLEANUP_HOURS=24
DOCUMENTS_CLEANUP_INTERVAL_SECONDS=3600
DOCUMENTS_S3_BUCKET=
DOCUMENTS_S3_PREFIX=documents
DOCUMENTS_S3_REGION=
DOCUMENTS_S3_ENDPOINT=
DOCUMENTS_S3_PUBLIC_URL=
DOCUMENTS_S3_ACL=

# Retrieval augmented generation (optional)
RAG_ENABLED=false
RAG_EMBEDDING_MODEL=text-embedding-3-large
RAG_COLLECTION=judicial_practice
RAG_QDRANT_URL=http://localhost:6333
RAG_QDRANT_API_KEY=
RAG_QDRANT_TIMEOUT=10
RAG_SCORE_THRESHOLD=0.15
RAG_TOP_K=6
RAG_SNIPPET_CHAR_LIMIT=1200
RAG_CONTEXT_CHAR_LIMIT=6500

# Garant API (optional)
# 1 — включить вызовы ГАРАНТ, 0 — оставить отключёнными
GARANT_API_ENABLED=0
# Базовый URL REST API (Интернет-версия)
GARANT_API_BASE_URL=https://api.garant.ru
# OAuth Bearer-токен для авторизации
GARANT_API_TOKEN=
# Таймаут http-запросов в секундах
GARANT_API_TIMEOUT=15
# Коды типов документов для поиска (через запятую)
GARANT_API_DEFAULT_KINDS=002,003
# Максимум документов в ответе
GARANT_API_RESULT_LIMIT=3
# Максимум вхождений, загружаемых для каждого документа
GARANT_API_SNIPPET_LIMIT=2
# Базовый URL для построения ссылок в ответе
GARANT_DOCUMENT_BASE_URL=https://d.garant.ru
# 1 — проверять SSL-сертификат, 0 — отключить проверку (не рекомендуется)
GARANT_API_VERIFY_SSL=1
# 1 — отправлять запросы в формате языка запросов ГАРАНТ, 0 — как обычный текст
GARANT_API_USE_QUERY_LANGUAGE=1
# 1 — подключать метод «Сутяжник» (анализ текста) вместе с поиском
GARANT_API_SUTYAZHNIK_ENABLED=1
# Какие типы судов учитывать в Сутяжнике (301 — общая, 302 — арбитраж, 303 — уголовные)
GARANT_API_SUTYAZHNIK_KINDS=301,302
# Сколько решений запрашивать у Сутяжника
GARANT_API_SUTYAZHNIK_COUNT=5
