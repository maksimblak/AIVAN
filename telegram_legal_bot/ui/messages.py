# telegram_legal_bot/ui/messages.py
"""
–ö—Ä–∞—Å–∏–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è –±–æ—Ç–∞.
"""

from typing import Dict, Any, Optional
import datetime
from telegram_legal_bot.utils.message_formatter import md2


class BotMessages:
    """–ö–ª–∞—Å—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä–∞—Å–∏–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π."""
    
    # –≠–º–æ–¥–∑–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
    EMOJI = {
        'welcome': 'üëã',
        'help': '‚ÑπÔ∏è',
        'success': '‚úÖ',
        'error': '‚ùå',
        'warning': '‚ö†Ô∏è',
        'loading': '‚è≥',
        'thinking': 'ü§î',
        'book': 'üìö',
        'law': '‚öñÔ∏è',
        'question': '‚ùì',
        'answer': 'üí°',
        'profile': 'üë§',
        'stats': 'üìä',
        'settings': '‚öôÔ∏è',
        'star': '‚≠ê',
        'fire': 'üî•',
        'rocket': 'üöÄ',
        'heart': '‚ù§Ô∏è',
        'thumbs_up': 'üëç',
        'thumbs_down': 'üëé'
    }
    
    @staticmethod
    def welcome(user_name: Optional[str] = None) -> str:
        """–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º MarkdownV2."""
        name_part = f", {user_name}" if user_name else ""
        
        return f"""
{BotMessages.EMOJI['welcome']} *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å{name_part}\\!*

–Ø ‚Äî *AIVAN*, –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç {BotMessages.EMOJI['law']}

{BotMessages.EMOJI['rocket']} *–ß—Ç–æ —è —É–º–µ—é:*
‚Ä¢ –û—Ç–≤–µ—á–∞—é –Ω–∞ –ø—Ä–∞–≤–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –†–§
‚Ä¢ –ü—Ä–∏–≤–æ–∂—É —Å—Å—ã–ª–∫–∏ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ—Ä–º—ã  
‚Ä¢ –î–∞—é –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚Ä¢ –ü–æ–º–æ–≥–∞—é —Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–æ–º

{BotMessages.EMOJI['star']} *–ú–æ–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:*
‚Ä¢ –ë—ã—Å—Ç—Ä—ã–µ –∏ —Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –ø—Ä–∞–≤–æ–≤–∞—è –±–∞–∑–∞
‚Ä¢ –ü–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–≥–æ
‚Ä¢ –î–æ—Å—Ç—É–ø–µ–Ω 24/7

{BotMessages.EMOJI['warning']} *–í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:*
–Ø –Ω–µ –∑–∞–º–µ–Ω—è—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —Å —é—Ä–∏—Å—Ç–æ–º, –Ω–æ –ø–æ–º–æ–≥—É —Å–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–∞–≤–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö\\!

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–µ–Ω—é –Ω–∏–∂–µ {BotMessages.EMOJI['thumbs_up']}
        """.strip()
    
    @staticmethod
    def welcome_with_bold(user_name: Optional[str] = None) -> str:
        """–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∂–∏—Ä–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è)."""
        name_part = f", {user_name}" if user_name else ""
        
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º HTML —Ä–∞–∑–º–µ—Ç–∫—É –¥–ª—è –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è  
        return f"""
{BotMessages.EMOJI['welcome']} <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å{name_part}!</b>

–Ø ‚Äî <b>AIVAN</b>, –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç {BotMessages.EMOJI['law']}

{BotMessages.EMOJI['rocket']} <b>–ß—Ç–æ —è —É–º–µ—é:</b>
‚Ä¢ –û—Ç–≤–µ—á–∞—é –Ω–∞ –ø—Ä–∞–≤–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –†–§
‚Ä¢ –ü—Ä–∏–≤–æ–∂—É —Å—Å—ã–ª–∫–∏ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ—Ä–º—ã  
‚Ä¢ –î–∞—é –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚Ä¢ –ü–æ–º–æ–≥–∞—é —Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–æ–º

{BotMessages.EMOJI['star']} <b>–ú–æ–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</b>
‚Ä¢ –ë—ã—Å—Ç—Ä—ã–µ –∏ —Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –ø—Ä–∞–≤–æ–≤–∞—è –±–∞–∑–∞
‚Ä¢ –ü–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–≥–æ
‚Ä¢ –î–æ—Å—Ç—É–ø–µ–Ω 24/7

{BotMessages.EMOJI['warning']} <b>–í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å:</b>
–Ø –Ω–µ –∑–∞–º–µ–Ω—è—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —Å —é—Ä–∏—Å—Ç–æ–º, –Ω–æ –ø–æ–º–æ–≥—É —Å–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–∞–≤–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö!

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–µ–Ω—é –Ω–∏–∂–µ {BotMessages.EMOJI['thumbs_up']}
        """.strip()
    
    @staticmethod
    def help_main() -> str:
        """–û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–º–æ—â–∏."""
        return f"""
{BotMessages.EMOJI['help']} <b>–°–ü–†–ê–í–ö–ê –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ</b>

{BotMessages.EMOJI['question']} <b>–ö–∞–∫ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å:</b>
1. –û–ø–∏—à–∏—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ–¥—Ä–æ–±–Ω–æ
2. –£–∫–∞–∂–∏—Ç–µ –≤—Å–µ –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏
3. –£–ø–æ–º—è–Ω–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ —Å—Ä–æ–∫–∏
4. –ü–æ–ª—É—á–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç

{BotMessages.EMOJI['fire']} <b>–°–æ–≤–µ—Ç—ã –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:</b>
‚Ä¢ –ü–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ: –∫—Ç–æ, —á—Ç–æ, –≥–¥–µ, –∫–æ–≥–¥–∞
‚Ä¢ –£–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å—É–º–º—ã, –¥–∞—Ç—ã, –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ –æ–±—â–∏—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫
‚Ä¢ –ó–∞–¥–∞–≤–∞–π—Ç–µ —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã

{BotMessages.EMOJI['book']} <b>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∞–≤–∞:</b>
‚Ä¢ –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–µ ‚Ä¢ –£–≥–æ–ª–æ–≤–Ω–æ–µ
‚Ä¢ –¢—Ä—É–¥–æ–≤–æ–µ ‚Ä¢ –ù–∞–ª–æ–≥–æ–≤–æ–µ  
‚Ä¢ –°–µ–º–µ–π–Ω–æ–µ ‚Ä¢ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–µ

{BotMessages.EMOJI['star']} <b>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</b>
‚Ä¢ –ò—Å—Ç–æ—Ä–∏—è –≤–∞—à–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚Ä¢ –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
        """.strip()
    
    @staticmethod
    def quick_start() -> str:
        """–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç."""
        return f"""
{BotMessages.EMOJI['rocket']} <b>–ë–´–°–¢–†–´–ô –°–¢–ê–†–¢</b>

<b>–®–∞–≥ 1:</b> {BotMessages.EMOJI['question']} –û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é
<i>–ü—Ä–∏–º–µ—Ä:</i> "–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å –∑–∞–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç—É –Ω–∞ 2 –Ω–µ–¥–µ–ª–∏. –ß—Ç–æ –¥–µ–ª–∞—Ç—å?"

<b>–®–∞–≥ 2:</b> {BotMessages.EMOJI['thinking']} –î–æ–∂–¥–∏—Ç–µ—Å—å –∞–Ω–∞–ª–∏–∑–∞
–Ø –∏–∑—É—á—É –≤–æ–ø—Ä–æ—Å –∏ –Ω–∞–π–¥—É –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –Ω–æ—Ä–º—ã –ø—Ä–∞–≤–∞

<b>–®–∞–≥ 3:</b> {BotMessages.EMOJI['answer']} –ü–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç
–í—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç–≤–µ—Ç —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∑–∞–∫–æ–Ω—ã

<b>–®–∞–≥ 4:</b> {BotMessages.EMOJI['thumbs_up']} –û—Ü–µ–Ω–∏—Ç–µ –ø–æ–ª–µ–∑–Ω–æ—Å—Ç—å
–ü–æ—Å—Ç–∞–≤—å—Ç–µ –æ—Ü–µ–Ω–∫—É, —á—Ç–æ–±—ã —è —Å—Ç–∞–ª –µ—â–µ –ª—É—á—à–µ!

{BotMessages.EMOJI['fire']} <b>–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å? –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å!</b>
        """.strip()
    
    @staticmethod
    def examples() -> str:
        """–ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤."""
        return f"""
{BotMessages.EMOJI['book']} **–ü–†–ò–ú–ï–†–´ –•–û–†–û–®–ò–• –í–û–ü–†–û–°–û–í**

{BotMessages.EMOJI['law']} **–¢—Ä—É–¥–æ–≤–æ–µ –ø—Ä–∞–≤–æ:**
"–ú–µ–Ω—è —Ö–æ—Ç—è—Ç —É–≤–æ–ª–∏—Ç—å –ø–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—é —à—Ç–∞—Ç–æ–≤. –ö–∞–∫–∏–µ —É –º–µ–Ω—è –ø—Ä–∞–≤–∞ –∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏?"

{BotMessages.EMOJI['law']} **–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–µ –ø—Ä–∞–≤–æ:**
"–°–æ—Å–µ–¥ –∑–∞—Ç–æ–ø–∏–ª –∫–≤–∞—Ä—Ç–∏—Ä—É. –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é –∏ –∫—Ç–æ –¥–æ–ª–∂–µ–Ω –ø–ª–∞—Ç–∏—Ç—å –∑–∞ —Ä–µ–º–æ–Ω—Ç?"

{BotMessages.EMOJI['law']} **–°–µ–º–µ–π–Ω–æ–µ –ø—Ä–∞–≤–æ:**
"–†–∞–∑–≤–æ–∂—É—Å—å —Å –∂–µ–Ω–æ–π. –ö–∞–∫ –¥–µ–ª–∏—Ç—Å—è –∫–≤–∞—Ä—Ç–∏—Ä–∞, –∫—É–ø–ª–µ–Ω–Ω–∞—è –≤ –∏–ø–æ—Ç–µ–∫—É –≤ –±—Ä–∞–∫–µ?"

{BotMessages.EMOJI['law']} **–î–¢–ü –∏ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ:**
"–ü–æ–ø–∞–ª –≤ –î–¢–ü, –û–°–ê–ì–û –Ω–µ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤–µ—Å—å —É—â–µ—Ä–±. –ö–∞–∫ –≤–∑—ã—Å–∫–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â—É—é —Å—É–º–º—É?"

{BotMessages.EMOJI['law']} **–ù–∞–ª–æ–≥–∏:**
"–ü—Ä–æ–¥–∞—é –∫–≤–∞—Ä—Ç–∏—Ä—É —á–µ—Ä–µ–∑ 2 –≥–æ–¥–∞ –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏. –ö–∞–∫–æ–π –Ω–∞–ª–æ–≥ –±—É–¥—É –ø–ª–∞—Ç–∏—Ç—å?"

{BotMessages.EMOJI['star']} **–ß–µ–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ–ø–∏—à–µ—Ç–µ ‚Äî —Ç–µ–º —Ç–æ—á–Ω–µ–µ –æ—Ç–≤–µ—Ç!**
        """.strip()
    
    @staticmethod
    def profile(stats: Dict[str, Any]) -> str:
        """–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        return f"""
{BotMessages.EMOJI['profile']} <b>–í–ê–® –ü–†–û–§–ò–õ–¨</b>

{BotMessages.EMOJI['stats']} <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</b>
‚Ä¢ –í–æ–ø—Ä–æ—Å–æ–≤ –∑–∞–¥–∞–Ω–æ: <b>{stats.get('questions', 0)}</b>
‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –ø–æ–ª—É—á–µ–Ω–æ: <b>{stats.get('consultations', 0)}</b>
‚Ä¢ –ü–æ–ª–µ–∑–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: <b>{stats.get('helpful_answers', 0)}</b>
‚Ä¢ –î–Ω–µ–π —Å –Ω–∞–º–∏: <b>{stats.get('days_with_us', 0)}</b>

{BotMessages.EMOJI['fire']} <b>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</b>
‚Ä¢ –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–ø—Ä–æ—Å: {stats.get('last_question_date', '–ù–µ –∑–∞–¥–∞–≤–∞–ª–∏')}
‚Ä¢ –õ—é–±–∏–º–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: <b>{stats.get('favorite_category', '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞')}</b>

{BotMessages.EMOJI['star']} <b>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:</b>
{BotMessages._format_achievements(stats.get('achievements', []))}

{BotMessages.EMOJI['heart']} –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–ª—å–∑—É–µ—Ç–µ—Å—å AIVAN!
        """.strip()
    
    @staticmethod
    def rate_limit_message(remaining_time: int) -> str:
        """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞."""
        hours = remaining_time // 3600
        minutes = (remaining_time % 3600) // 60
        
        time_str = ""
        if hours > 0:
            time_str += f"{hours} —á. "
        if minutes > 0:
            time_str += f"{minutes} –º–∏–Ω."
        
        return f"""
{BotMessages.EMOJI['warning']} **–õ–ò–ú–ò–¢ –í–û–ü–†–û–°–û–í –ò–°–ß–ï–†–ü–ê–ù**

–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å.

{BotMessages.EMOJI['loading']} **–û—Å—Ç–∞–ª–æ—Å—å –∂–¥–∞—Ç—å:** {time_str}

{BotMessages.EMOJI['star']} **–ü–æ–∫–∞ –º–æ–∂–µ—Ç–µ:**
‚Ä¢ –ò–∑—É—á–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—Ç–≤–µ—Ç—ã
‚Ä¢ –û–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –≤–æ–ø—Ä–æ—Å–æ–≤  
‚Ä¢ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚Ä¢ –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å Premium-–ø–æ–¥–ø–∏—Å–∫—É

{BotMessages.EMOJI['rocket']} **Premium –¥–∞–µ—Ç:**
‚Ä¢ –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
‚Ä¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
‚Ä¢ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚Ä¢ –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
        """.strip()
    
    @staticmethod
    def thinking_messages() -> list[str]:
        """–°–æ–æ–±—â–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏."""
        return [
            f"{BotMessages.EMOJI['thinking']} –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à –≤–æ–ø—Ä–æ—Å...",
            f"{BotMessages.EMOJI['book']} –ò–∑—É—á–∞—é –ø—Ä–∞–≤–æ–≤—É—é –±–∞–∑—É...",
            f"{BotMessages.EMOJI['law']} –§–æ—Ä–º–∏—Ä—É—é —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ...",
            f"‚úçÔ∏è –û—Ñ–æ—Ä–º–ª—è—é –æ—Ç–≤–µ—Ç —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∑–∞–∫–æ–Ω—ã..."
        ]
    
    @staticmethod
    def error_message(error_type: str = "general") -> str:
        """–°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö."""
        messages = {
            "general": f"{BotMessages.EMOJI['error']} **–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞**\n\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.",
            "network": f"{BotMessages.EMOJI['warning']} **–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º**\n\n–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É.",
            "overload": f"{BotMessages.EMOJI['loading']} **–í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**\n\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ–º–Ω–æ–≥–æ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",
            "invalid_question": f"{BotMessages.EMOJI['question']} **–í–æ–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π**\n\n–û–ø–∏—à–∏—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ–¥—Ä–æ–±–Ω–µ–µ –¥–ª—è –ª—É—á—à–µ–≥–æ –æ—Ç–≤–µ—Ç–∞.",
        }
        return messages.get(error_type, messages["general"])
    
    @staticmethod
    def success_message(message_type: str) -> str:
        """–°–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ."""
        messages = {
            "feedback": f"{BotMessages.EMOJI['heart']} **–°–ø–∞—Å–∏–±–æ –∑–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å!**\n\n–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞ –ø–æ–º–æ–∂–µ—Ç –º–Ω–µ —Å—Ç–∞—Ç—å –ª—É—á—à–µ.",
            "settings_saved": f"{BotMessages.EMOJI['success']} **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã**\n\n–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É.",
            "history_cleared": f"{BotMessages.EMOJI['success']} **–ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞**\n\n–í—Å–µ –≤–∞—à–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã —É–¥–∞–ª–µ–Ω—ã.",
        }
        return messages.get(message_type, f"{BotMessages.EMOJI['success']} –û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
    
    @staticmethod
    def _format_achievements(achievements: list) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è."""
        if not achievements:
            return "–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π"
        
        achievement_emojis = {
            'first_question': 'üéØ –ü–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å',
            'active_user': 'üî• –ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
            'expert_seeker': 'üéì –ò—â—É—â–∏–π –∑–Ω–∞–Ω–∏—è',
            'helpful_feedback': 'üëç –ë–ª–∞–≥–æ–¥–∞—Ä–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'
        }
        
        formatted = []
        for achievement in achievements:
            if achievement in achievement_emojis:
                formatted.append(achievement_emojis[achievement])
        
        return '\n'.join(f"‚Ä¢ {ach}" for ach in formatted) if formatted else "–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π"
    
    @staticmethod  
    def format_legal_answer(answer: str, sources: list = None, confidence: float = None) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç."""
        result = f"{BotMessages.EMOJI['answer']} **–Æ–†–ò–î–ò–ß–ï–°–ö–ê–Ø –ö–û–ù–°–£–õ–¨–¢–ê–¶–ò–Ø**\n\n"
        result += f"{answer}\n\n"
        
        if sources:
            result += f"{BotMessages.EMOJI['book']} **–ü–†–ê–í–û–í–´–ï –û–°–ù–û–í–ê–ù–ò–Ø:**\n"
            for i, source in enumerate(sources, 1):
                result += f"{i}. {source}\n"
            result += "\n"
        
        if confidence:
            confidence_emoji = "üü¢" if confidence > 0.8 else "üü°" if confidence > 0.6 else "üü†"
            result += f"{confidence_emoji} **–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ:** {confidence*100:.0f}%\n\n"
        
        result += f"{BotMessages.EMOJI['warning']} *–î–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–æ—Å–∏—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —é—Ä–∏—Å—Ç–∞.*"
        
        return result
