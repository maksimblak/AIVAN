# LegalAI Pro - Telegram Web App

–ü—Ä–µ–º–∏—É–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –±–æ—Ç–∞-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ AIVAN. Production-ready React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º —É—Ä–æ–≤–Ω—è —Ç–æ–ø–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üé® –î–∏–∑–∞–π–Ω
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI/UX** - Glassmorphism, –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, –ø–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ —Å–∏—Å—Ç–µ–º–Ω—ã–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (390x844px)
- **–ü—Ä–µ–º–∏—É–º —ç–ª–µ–º–µ–Ω—Ç—ã** - –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏, —Ç–µ–Ω–∏, hover-—ç—Ñ—Ñ–µ–∫—Ç—ã

### ‚ö° –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏** - 10 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø—Ä–∞–≤–∞ —Å —É–º–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- **–ü–æ–∏—Å–∫ —Å—É–¥–µ–±–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏** - –ê–Ω–∞–ª–∏–∑ –¥–µ–ª —Å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å—é
- **–†–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏** - OCR, –∞–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ø–æ–¥–ø–∏—Å–∫–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Telegram Web App API

### üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- React 18.3+ —Å —Ö—É–∫–∞–º–∏
- Tailwind CSS 3.4+
- Vite 5.3+
- Lucide React (–∏–∫–æ–Ω–∫–∏)
- Telegram Web App SDK

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
webapp/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.jsx           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ index.css          # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ LegalAIPro.jsx         # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ index.html             # HTML —à–∞–±–ª–æ–Ω
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ vite.config.js         # Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ tailwind.config.js     # Tailwind –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ postcss.config.js      # PostCSS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd webapp
npm install
```

### 2. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ `http://localhost:3000`

### 3. –°–±–æ—Ä–∫–∞ –¥–ª—è production

```bash
npm run build
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–∞–ø–∫–µ `dist/`

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –±–æ—Ç–æ–º

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ ngrok (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä:
```bash
npm run dev
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok:
```bash
npm install -g ngrok
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ç—É–Ω–Ω–µ–ª—å:
```bash
ngrok http 3000
```

4. –ü–æ–ª—É—á–∏—Ç–µ HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok.io`)

5. –î–æ–±–∞–≤—å—Ç–µ Web App –≤ –±–æ—Ç–∞ (Python –∫–æ–¥):

```python
from aiogram.types import InlineKeyboardButton, InlineKeyboardMarkup, WebAppInfo

# –í src/core/bot_app/menus.py –¥–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É:
def _main_menu_keyboard() -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(
        inline_keyboard=[
            # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–Ω–æ–ø–∫–∏ ...
            [
                InlineKeyboardButton(
                    text="üöÄ –û—Ç–∫—Ä—ã—Ç—å Web App",
                    web_app=WebAppInfo(url="https://abc123.ngrok.io")
                )
            ],
        ]
    )
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Cloudflare Tunnel (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ cloudflared:
```bash
# Windows (—á–µ—Ä–µ–∑ Scoop)
scoop install cloudflared

# macOS
brew install cloudflared

# Linux
wget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å:
```bash
npm run dev
cloudflared tunnel --url http://localhost:3000
```

3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL –≤ –±–æ—Ç–µ

### –í–∞—Ä–∏–∞–Ω—Ç 3: Production deployment

1. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
npm run build
```

2. –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `dist/` –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ:
   - **Vercel**: `vercel --prod`
   - **Netlify**: `netlify deploy --prod`
   - **GitHub Pages**: –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ GitHub Actions
   - **–í–∞—à —Å–µ—Ä–≤–µ—Ä**: Nginx/Apache

3. –ü–æ–ª—É—á–∏—Ç–µ HTTPS URL –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –±–æ—Ç–∞

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Python –±–æ—Ç–æ–º

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Web App –∫–Ω–æ–ø–∫–∏ –≤ –º–µ–Ω—é

–í —Ñ–∞–π–ª–µ `src/core/bot_app/menus.py`:

```python
from aiogram.types import WebAppInfo

# –í —Ñ—É–Ω–∫—Ü–∏–∏ _main_menu_keyboard():
def _main_menu_keyboard() -> InlineKeyboardMarkup:
    return InlineKeyboardMarkup(
        inline_keyboard=[
            [InlineKeyboardButton(text="‚öñÔ∏è –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å", callback_data="legal_question")],
            [InlineKeyboardButton(
                text="üîç –ü–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑ —Å—É–¥–µ–±–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏",
                callback_data="search_practice"
            )],
            [InlineKeyboardButton(
                text="üóÇÔ∏è –†–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏",
                callback_data="document_processing"
            )],
            # ‚¨áÔ∏è –ù–û–í–ê–Ø –ö–ù–û–ü–ö–ê WEB APP
            [InlineKeyboardButton(
                text="üöÄ Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å",
                web_app=WebAppInfo(url="https://your-domain.com")
            )],
            [
                InlineKeyboardButton(text="üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å", callback_data="my_profile"),
                InlineKeyboardButton(text="üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞", callback_data="help_info"),
            ],
        ]
    )
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Web App

```python
from aiogram import Router, F
from aiogram.types import Message

router = Router()

@router.message(F.web_app_data)
async def handle_web_app_data(message: Message):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Web App"""
    data = message.web_app_data.data
    # data —Å–æ–¥–µ—Ä–∂–∏—Ç JSON —Å—Ç—Ä–æ–∫—É –æ—Ç Web App
    import json
    payload = json.loads(data)

    # –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç Web App
    await message.answer(f"–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: {payload}")
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Web App –≤ –±–æ—Ç–∞

–í `LegalAIPro.jsx` –¥–æ–±–∞–≤—å—Ç–µ:

```javascript
// –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç–∞
const sendDataToBot = (data) => {
  if (window.Telegram?.WebApp) {
    window.Telegram.WebApp.sendData(JSON.stringify(data));
  }
};

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
<button onClick={() => sendDataToBot({
  action: 'legal_question',
  category: 'civil',
  question: '–ú–æ–π –≤–æ–ø—Ä–æ—Å...'
})}>
  –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å
</button>
```

## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã

–í `webapp/tailwind.config.js`:

```javascript
theme: {
  extend: {
    colors: {
      primary: '#2563EB',      // –°–∏–Ω–∏–π
      secondary: '#8B5CF6',    // –§–∏–æ–ª–µ—Ç–æ–≤—ã–π
      accent: '#EC4899',       // –†–æ–∑–æ–≤—ã–π
    }
  }
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —ç–∫—Ä–∞–Ω–∞ –≤ `LegalAIPro.jsx`:

```javascript
const MyNewScreen = () => (
  <div className="flex flex-col h-full">
    <ScreenHeader title="–ù–æ–≤—ã–π —ç–∫—Ä–∞–Ω" onBack={() => setCurrentScreen('main')} />
    {/* –í–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç */}
  </div>
);
```

2. –î–æ–±–∞–≤—å—Ç–µ –≤ —Ä–æ—É—Ç–∏–Ω–≥:

```javascript
const renderScreen = () => {
  switch (currentScreen) {
    case 'my-new-screen':
      return <MyNewScreen />;
    // ...
  }
};
```

3. –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:

```javascript
<ActionCard
  title="–ú–æ—è —Ñ—É–Ω–∫—Ü–∏—è"
  subtitle="–û–ø–∏—Å–∞–Ω–∏–µ"
  icon={Star}
  gradient="from-green-600 to-green-700"
  onClick={() => setCurrentScreen('my-new-screen')}
/>
```

## Telegram Web App API

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

```javascript
const tg = window.Telegram.WebApp;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
tg.ready();

// –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
tg.expand();

// –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const user = tg.initDataUnsafe.user;
console.log(user.id, user.first_name);

// –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
console.log(tg.colorScheme); // 'light' | 'dark'

// –ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
tg.MainButton.setText('–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å');
tg.MainButton.show();
tg.MainButton.onClick(() => {
  console.log('–ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞');
});

// –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
tg.BackButton.show();
tg.BackButton.onClick(() => {
  setCurrentScreen('main');
});

// –í–∏–±—Ä–∞—Ü–∏—è
tg.HapticFeedback.impactOccurred('medium');

// –ó–∞–∫—Ä—ã—Ç—å Web App
tg.close();

// –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç–∞
tg.sendData(JSON.stringify({ key: 'value' }));
```

## Production —á–µ–∫–ª–∏—Å—Ç

- [ ] –û–±–Ω–æ–≤–∏—Ç—å URL –≤ –±–æ—Ç–µ –Ω–∞ production –¥–æ–º–µ–Ω
- [ ] –í–∫–ª—é—á–∏—Ç—å HTTPS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è Telegram)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- [ ] –í–∫–ª—é—á–∏—Ç—å –∫–æ–º–ø—Ä–µ—Å—Å–∏—é gzip/brotli
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (Lighthouse)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å error tracking (Sentry)

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Vercel

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI:
```bash
npm i -g vercel
```

2. –î–µ–ø–ª–æ–π:
```bash
cd webapp
vercel --prod
```

3. –ü–æ–ª—É—á–∏—Ç–µ URL –∏ –æ–±–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Netlify

1. –°–æ–∑–¥–∞–π—Ç–µ `netlify.toml`:
```toml
[build]
  command = "npm run build"
  publish = "dist"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
```

2. –î–µ–ø–ª–æ–π:
```bash
netlify deploy --prod
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Telegram –±–æ—Ç–∞
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å Telegram Web App API

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –∏ –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

---

**–°–æ–∑–¥–∞–Ω–æ –¥–ª—è AIVAN Legal Bot** ü§ñ‚öñÔ∏è

–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞: support@aivan.ai
