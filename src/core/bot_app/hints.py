"""
–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫ –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –±–æ—Ç–∞
"""

from __future__ import annotations

import random
from typing import TYPE_CHECKING

if TYPE_CHECKING:
    from src.core.db_advanced import DatabaseAdvanced


# –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
HINTS = {
    "search_practice": [
        "üí° <i>–ö—Å—Ç–∞—Ç–∏, —è –º–æ–≥—É –∏—Å–∫–∞—Ç—å —Å—É–¥–µ–±–Ω—É—é –ø—Ä–∞–∫—Ç–∏–∫—É –ø–æ –≤–∞—à–µ–º—É –≤–æ–ø—Ä–æ—Å—É. –ü—Ä–æ—Å—Ç–æ —Å–ø—Ä–æ—Å–∏—Ç–µ: \"–ù–∞–π–¥–∏ –ø—Ä–∞–∫—Ç–∏–∫—É –ø–æ –≤–∑—ã—Å–∫–∞–Ω–∏—é –Ω–µ—É—Å—Ç–æ–π–∫–∏\"</i>",
        "üîç <i>–ê –≤—ã –∑–Ω–∞–ª–∏? –Ø –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –º–∏–ª–ª–∏–æ–Ω—ã —Å—É–¥–µ–±–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –∏ –º–æ–≥—É –Ω–∞–π—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –ø—Ä–∞–∫—Ç–∏–∫—É –¥–ª—è –≤–∞—à–µ–≥–æ –¥–µ–ª–∞</i>",
        "‚öñÔ∏è <i>–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–ø—Ä–æ—Å–∏—Ç—å –º–µ–Ω—è –æ —Å—É–¥–µ–±–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ –ø–æ –ª—é–±–æ–º—É —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–º—É –≤–æ–ø—Ä–æ—Å—É</i>",
    ],
    "document_analysis": [
        "üìÑ <i>–ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã, —á—Ç–æ —è –º–æ–≥—É –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã? –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ–≥–æ–≤–æ—Ä, –∏—Å–∫ –∏–ª–∏ —Ä–µ—à–µ–Ω–∏–µ —Å—É–¥–∞</i>",
        "üìã <i>–ö—Å—Ç–∞—Ç–∏, —è —É–º–µ—é –¥–µ–ª–∞—Ç—å –∫—Ä–∞—Ç–∫—É—é –≤—ã–∂–∏–º–∫—É –∏–∑ –±–æ–ª—å—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é</i>",
        "üîç <i>–ü–æ–¥—Å–∫–∞–∑–∫–∞: –Ø –º–æ–≥—É –Ω–∞–π—Ç–∏ —Ä–∏—Å–∫–∏ –≤ –¥–æ–≥–æ–≤–æ—Ä–µ –∏–ª–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–∫–æ–≤–æ–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ</i>",
    ],
    "risk_analysis": [
        "‚ö†Ô∏è <i>–ê –≤—ã –∑–Ω–∞–ª–∏? –Ø –º–æ–≥—É –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–≥–æ–≤–æ—Ä –Ω–∞ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏ –∏ –æ–ø–∞—Å–Ω—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏</i>",
        "üõ°Ô∏è <i>–ö—Å—Ç–∞—Ç–∏, –ø–µ—Ä–µ–¥ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ–º –¥–æ–≥–æ–≤–æ—Ä–∞ —è –º–æ–≥—É –Ω–∞–π—Ç–∏ –≤ –Ω—ë–º —Å–∫—Ä—ã—Ç—ã–µ —Ä–∏—Å–∫–∏ –∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —É—Å–ª–æ–≤–∏—è</i>",
    ],
    "lawsuit_analysis": [
        "‚öñÔ∏è <i>–ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã, —á—Ç–æ —è –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é –∏—Å–∫–æ–≤—ã–µ –∑–∞—è–≤–ª–µ–Ω–∏—è? –û—Ü–µ–Ω—é –ø–æ–∑–∏—Ü–∏—é, –Ω–∞–π–¥—É —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞ –∏ –¥–∞–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</i>",
        "üìä <i>–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏—Å–∫–æ–≤–æ–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ, –∏ —è –ø–æ–º–æ–≥—É –æ—Ü–µ–Ω–∏—Ç—å —à–∞–Ω—Å—ã –Ω–∞ —É—Å–ø–µ—Ö</i>",
    ],
    "doc_generation": [
        "‚ú® <i>–ö—Å—Ç–∞—Ç–∏, —è –º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –∑–∞ –≤–∞—Å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é \"–°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞\"</i>",
        "üìù <i>–ê –≤—ã –∑–Ω–∞–ª–∏? –Ø –º–æ–≥—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏—Å–∫, –∂–∞–ª–æ–±—É –∏–ª–∏ –¥–æ–≥–æ–≤–æ—Ä –ø–æ –≤–∞—à–µ–º—É –æ–ø–∏—Å–∞–Ω–∏—é —Å–∏—Ç—É–∞—Ü–∏–∏</i>",
    ],
    "anonymize": [
        "üîí <i>–ó–Ω–∞–µ—Ç–µ –ª–∏ –≤—ã, —á—Ç–æ —è –º–æ–≥—É –æ–±–µ–∑–ª–∏—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç? –°–∫—Ä–æ—é –≤—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –§–ò–û</i>",
        "üï∂Ô∏è <i>–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –æ–±–µ–∑–ª–∏—á–∏–≤–∞–Ω–∏—è</i>",
    ],
    "ocr": [
        "üì∑ <i>–ö—Å—Ç–∞—Ç–∏, —è –º–æ–≥—É —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ç–µ–∫—Å—Ç —Å–æ —Å–∫–∞–Ω–æ–≤ –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π. –ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</i>",
        "üîç <i>–ê –≤—ã –∑–Ω–∞–ª–∏? –Ø –∏–∑–≤–ª–µ–∫–∞—é —Ç–µ–∫—Å—Ç –¥–∞–∂–µ –∏–∑ –ø–ª–æ—Ö–∏—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</i>",
    ],
    "general": [
        "üéØ <i>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Å–µ –º–æ–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ \"–†–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏\" –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ /start</i>",
        "üí¨ <i>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å? –ü—Ä–æ—Å—Ç–æ –æ–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∑–∞–¥–∞—á—É, –∏ —è –ø–æ–¥—Å–∫–∞–∂—É, –∫–∞–∫ –ª—É—á—à–µ –µ—ë —Ä–µ—à–∏—Ç—å</i>",
    ],
}


# –ö–∞—Ä—Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤: –∫–æ–≥–¥–∞ –∫–∞–∫—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
CONTEXT_MAP = {
    "text_question": ["search_practice", "document_analysis", "general"],
    "after_search": ["document_analysis", "doc_generation"],
    "after_doc_analysis": ["risk_analysis", "lawsuit_analysis", "anonymize"],
    "after_summary": ["risk_analysis", "lawsuit_analysis", "ocr"],
    "after_risk": ["doc_generation", "lawsuit_analysis"],
    "general": ["search_practice", "document_analysis", "doc_generation", "general"],
}


def get_hint(context: str = "general", exclude_features: list[str] | None = None) -> str | None:
    """
    –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É

    Args:
        context: –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ('text_question', 'after_search', –∏ —Ç.–¥.)
        exclude_features: –°–ø–∏—Å–æ–∫ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ –æ –Ω–∏—Ö)

    Returns:
        –¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏–ª–∏ None
    """
    exclude_features = exclude_features or []

    # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    categories = CONTEXT_MAP.get(context, CONTEXT_MAP["general"])

    # –§–∏–ª—å—Ç—Ä—É–µ–º —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    available_categories = [cat for cat in categories if cat not in exclude_features]

    if not available_categories:
        # –ï—Å–ª–∏ –≤—Å–µ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—â—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É
        available_categories = ["general"]

    # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
    category = random.choice(available_categories)

    # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    hints = HINTS.get(category, HINTS["general"])
    return random.choice(hints)


def should_show_hint(user_message_count: int, last_hint_count: int) -> bool:
    """
    –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É

    Args:
        user_message_count: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        last_hint_count: –ù–æ–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –±—ã–ª–∞ –ø–æ–∫–∞–∑–∞–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–¥—Å–∫–∞–∑–∫–∞

    Returns:
        True, –µ—Å–ª–∏ –ø–æ—Ä–∞ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
    """
    # –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –Ω–∞ –ø–µ—Ä–≤—ã—Ö 2 —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
    if user_message_count < 2:
        return False

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –∫–∞–∂–¥—ã–µ 3-5 —Å–æ–æ–±—â–µ–Ω–∏–π
    messages_since_hint = user_message_count - last_hint_count

    if messages_since_hint >= 5:
        return True

    if messages_since_hint >= 3:
        # –°–ª—É—á–∞–π–Ω–æ —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 40%
        return random.random() < 0.4

    return False


async def get_user_used_features(db: DatabaseAdvanced, user_id: int) -> list[str]:
    """
    –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ—É–Ω–∫—Ü–∏–π

    Args:
        db: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
        user_id: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

    Returns:
        –°–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    """
    try:
        # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
        stats = await db.get_user_statistics(user_id, days=365)

        used_features = []

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å
        feature_mapping = {
            "summarize": "document_analysis",
            "analyze_risks": "risk_analysis",
            "lawsuit_analysis": "lawsuit_analysis",
            "anonymize": "anonymize",
            "ocr": "ocr",
            "translate": "document_analysis",
            "chat": "document_analysis",
        }

        for feature_key, category in feature_mapping.items():
            feature_count = stats.get(f"{feature_key}_count", 0)
            if feature_count > 0 and category not in used_features:
                used_features.append(category)

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –ª–∏ –ø–æ–∏—Å–∫ –ø—Ä–∞–∫—Ç–∏–∫–∏
        # (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —á–µ—Ä–µ–∑ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤)

        return used_features
    except Exception:
        return []


async def get_contextual_hint(
    db: DatabaseAdvanced | None,
    user_id: int,
    context: str = "general",
) -> str | None:
    """
    –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É —Å —É—á—ë—Ç–æ–º –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

    Args:
        db: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
        user_id: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        context: –¢–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

    Returns:
        –¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏–ª–∏ None, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
    """
    if db is None:
        # –ë–µ–∑ –ë–î –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
        if random.random() < 0.3:  # 30% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å
            return get_hint(context)
        return None

    try:
        # –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user = await db.get_user(user_id)
        if not user:
            return None

        # –ü–æ–ª—É—á–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
        user_message_count = getattr(user, "total_requests", 0)
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º updated_at –∫–∞–∫ –º–µ—Ç–∫—É –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã
        last_hint_count = 0  # –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É
        if not should_show_hint(user_message_count, last_hint_count):
            return None

        # –ü–æ–ª—É—á–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        used_features = await get_user_used_features(db, user_id)

        # –ü–æ–ª—É—á–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
        hint = get_hint(context, used_features)

        return hint
    except Exception:
        # –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
        return None


# –ì–æ—Ç–æ–≤—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
QUICK_HINTS = {
    "first_message": "üí° <i>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç—å –≤–∞—à—É —é—Ä–∏–¥–∏—á–µ—Å–∫—É—é —Å–∏—Ç—É–∞—Ü–∏—é ‚Äî —è –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ —Ä–µ—à–µ–Ω–∏–µ</i>",
    "document_uploaded": "üí° <i>–Ø –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å –∫—Ä–∞—Ç–∫—É—é –≤—ã–∂–∏–º–∫—É, –Ω–∞–π—Ç–∏ —Ä–∏—Å–∫–∏ –∏–ª–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç</i>",
    "long_text": "üìÑ <i>–î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç? –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –µ–≥–æ —Ñ–∞–π–ª–æ–º ‚Äî —è —Å–º–æ–≥—É –ª—É—á—à–µ –µ–≥–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</i>",
}


__all__ = [
    "get_hint",
    "should_show_hint",
    "get_contextual_hint",
    "get_user_used_features",
    "QUICK_HINTS",
    "HINTS",
    "CONTEXT_MAP",
]
